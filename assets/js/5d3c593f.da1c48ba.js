"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[3729],{6037:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>i,metadata:()=>o,toc:()=>l});var s=t(5893),r=t(1151);const i={title:"Nov 24, 2203"},a="Coding Journal: Nov 24, 2023",o={id:"learning-journal/November/20231124",title:"Nov 24, 2203",description:"Internal API:",source:"@site/docs/learning-journal/November/20231124.md",sourceDirName:"learning-journal/November",slug:"/learning-journal/November/20231124",permalink:"/my-website/docs/learning-journal/November/20231124",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{title:"Nov 24, 2203"},sidebar:"tutorialSidebar",previous:{title:"Nov 23, 2203",permalink:"/my-website/docs/learning-journal/November/20231123"},next:{title:"Nov 25, 2023",permalink:"/my-website/docs/learning-journal/November/20231125"}},c={},l=[];function d(e){const n={code:"code",em:"em",h1:"h1",hr:"hr",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"coding-journal-nov-24-2023",children:"Coding Journal: Nov 24, 2023"}),"\n",(0,s.jsx)(n.h1,{id:"1-what-i-learned-today",children:"1. What I Learned Today"}),"\n",(0,s.jsx)(n.p,{children:"Internal API:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Not exposed on the Internet"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Created and used inside of a company or dev team"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"May provide access to sensitive data to internal stakeholders"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Deal with connecting backend services rather than creating user interface"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.em,{children:"Pros of Internal API:"})," Security, better control, flexibility, and reduced cost."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.em,{children:"Cons of Internal API:"})," Limited exposure, resources, and use cases."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"External API or Public API:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"An external API is a software interface provided by a third-party service that allows developers to integrate(*) their application with external systems."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Manage interactions between backend components."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Used more than internal API to create user interfaces."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Generate revenue or increase bran awareness"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Pros of External API: Community building, innovation, and scalability."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Cons of External API: Security, dependence on Third Parties, support and maintenance are required to ensure the stability of the API."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"(*) Integrate: Combine one thing with another so that they become a whole."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h1,{id:"2-questions-i-have",children:"2. Questions I Have"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"What is refresh token and what its purpose?"}),"\n",(0,s.jsx)(n.p,{children:"=> Refresh token is a special key that enables a client for an API or service to retrieve new access tokens without requiring user perform a complete login"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"What is access token and its purpose?"}),"\n",(0,s.jsx)(n.p,{children:"=> Access token is used to allow an application to access an API"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"What is token in API?"}),"\n",(0,s.jsx)(n.p,{children:"=> API token is a unique identifier used to authenticate a user or application to access an API"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"What's the difference between authentication and authorization?"}),"\n",(0,s.jsx)(n.p,{children:"=> Authentication confirms users are who they are, while authorization gives those uses (who are authenticated) permission to access a resource."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h1,{id:"3-what-i-found-challenging",children:"3. What I Found Challenging"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Getting the access token to use Spotify API. Since there are multiple ways to have the authorization such as Authorization code, Client Credentials, and Implicit Grant."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"How to get new access token if the one I'm using is expired? Each access token is only usable in 1 hour."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"I cannot get access token when coding along in Pycharm even though I follow exactly what the slides show. Therefore, I just tried to read line by line in their code and run the code in the online Educative IDE that they already provided, change the the endpoints with different IDs that I want to test out to understand what the API is doing."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h1,{id:"4-code-i-wrote-today",children:"4. Code I Wrote Today"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",metastring:'title="app.py"',children:"import base64\n\nimport requests\nfrom flask import Flask, redirect, request, render_template\n\napp = Flask(__name__)\n\n\n#  Client Keys\nCLIENT_ID = \"02f07886285e4e428757b9ee24c0af53\"\nCLIENT_SECRET = \"f4cc64a68e7a4de08d983d183cf5ca54\"\n# Encoding values for header\nENCODED_CLIENT_SECRET = base64.b64encode(b'02f07886285e4e428757b9ee24c0af53:f4cc64a68e7a4de08d983d183cf5ca54')\nENCODED_CLIENT_SECRET=ENCODED_CLIENT_SECRET.decode(\"utf-8\")\n\n# Spotify URLS\nSPOTIFY_AUTH_URL = \"https://accounts.spotify.com/authorize\"\nSPOTIFY_TOKEN_URL = \"https://accounts.spotify.com/api/token\"\n\n# Server-side Parameters\nREDIRECT_URI = \"https://ed-4810389229404160.educative.run/callback\"\nSCOPE = \"playlist-read-collaborative playlist-modify-public playlist-modify-private playlist-read-private user-library-read user-library-modify\"\nRESPONSE_TYPE = \"code\"\nGRANT_TYPE = 'authorization_code'\n\n\n@app.route(\"/\")\ndef index():\n    authorize_url = 'https://accounts.spotify.com/en/authorize?response_type={}&client_id={}&redirect_uri={}&scope={}&show_dialog=TRUE'.format(RESPONSE_TYPE,CLIENT_ID,REDIRECT_URI,SCOPE)\n    response = redirect(authorize_url)\n    return response\n\n\n@app.route(\"/callback\")\ndef callback():\n    token_url = 'https://accounts.spotify.com/api/token'\n    headers = {\n        'Content-Type': 'application/x-www-form-urlencoded',\n        'Authorization': 'Basic '+'{}'.format(ENCODED_CLIENT_SECRET)\n        }\n    body = {'code': request.args.get('code'), 'redirect_uri': REDIRECT_URI, \n            'grant_type': GRANT_TYPE}\n    post_response = requests.post(token_url,headers=headers,data=body)\n    return render_template('home.html',token=post_response.json())\n\n\nif __name__ == '__main__':\n    app.run(debug=True)\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",metastring:'title="client_secret.py"',children:'import base64\nimport json\n\nimport requests\n\nCLIENT_ID = "02f07886285e4e428757b9ee24c0af53"\nCLIENT_SECRET = "f4cc64a68e7a4de08d983d183cf5ca54"\n\nREDIRECT_URL = "https://ed-4810389229404160.educative.run/callback"\n\n# Finding CLIENT CREDENTIAL\nURL = "https://accounts.spotify.com/api/token?grant_type=client_credentials"\ncredential_string = f"{CLIENT_ID}:{CLIENT_SECRET}"\ncredential_bytes = credential_string.encode("ASCII")\nbase64_bytes = base64.b64encode(credential_bytes)\nbase64_credentials = base64_bytes.decode("ASCII")\n\nheaders = {\n    \'Authorization\': f"Basic {base64_credentials}",\n    "Content-Type": \'application/x-www-form-urlencoded\'\n}\n\ndata = {\n    "grant_type": "client_credentials"\n}\n\nresponse = requests.post(\'https://accounts.spotify.com/api/token\', data=data, headers=headers)\n\ntoken_info = json.loads(response.text)\nprint(token_info)\naccess_token = token_info[\'access_token\']\nprint(access_token)\nauthorization_code = "BQAVM4y5K_9indm2pF3ChklHYpd4_9U82xv9NxCdQp4fywDlnzg4gbMY7bNgeSYvuX1Afpnee0ABAswtRiMShUepLiLqe0swCXvvoucBLlrbOYNpJaAmlWUv7rjyCv1LyM38eFL--dWHWh2U-1U_XLL5EoR0feuM4MFT2NrIpDTr-sVC64h85wXD517HCnXa1pq5FqWPO7wV8rUY6Z934VCQTFk5fbfcmrK53Zja-Yh3KLBxEilXwphbJzshGq0w1LW1dTb6vsrSxCsRdfeJLgwEPvZsfFatZKvA4GKYhA"\n\n\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",metastring:'title="get_access_token.py"',children:'# import base64\n# import json\n# import requests\n#\n#\n# URL = "https://accounts.spotify.com/api/token?grant_type=client_credentials"\n# encoded = base64.b64encode(b\'dea69d181a8e431fa8a8dbdc6f81a2e6:ae5054a373f8415c8e6693d4c287bc2b\')\n# headers = {\n#     \'Content-Type\': \'application/x-www-form-urlencoded\',\n#     \'Authorization\': \'Basic \'+str(encoded)\n# }\n#\n# response = requests.request("POST", URL, headers=headers).json()\n#\n# print(json.dumps(response, indent=4))\n# authorization_code = "BQAVM4y5K_9indm2pF3ChklHYpd4_9U82xv9NxCdQp4fywDlnzg4gbMY7bNgeSYvuX1Afpnee0ABAswtRiMShUepLiLqe0swCXvvoucBLlrbOYNpJaAmlWUv7rjyCv1LyM38eFL--dWHWh2U-1U_XLL5EoR0feuM4MFT2NrIpDTr-sVC64h85wXD517HCnXa1pq5FqWPO7wV8rUY6Z934VCQTFk5fbfcmrK53Zja-Yh3KLBxEilXwphbJzshGq0w1LW1dTb6vsrSxCsRdfeJLgwEPvZsfFatZKvA4GKYhA"\ntoken_info = {\n    "access_token": "BQAxfHDxrPoKS0BoPX0LnWFMXldl9yEnoYLHPUbLTN8oR-ehWthHre65ZTB-YOkgCguwL-OgyG-6hB3LfFa-yauYC0i5luruShTr9ARblCugBndWHz9S2fIPSBpj-2v_LSAHI41B_e9BcynU3opcFDx7zhiUhmx_7G9Lna0VxufKMhNeDYx_gmPLnTzqSV1NX3dPLCSS96Wd_SPEX8Bj0Dtgiqa9jZpcoMWXHDTdfJnxF0rJFDVpNYdNNgoQVc2HzRNTpWnnXIDc08NGUpcHelS6ds_chhwzlYyg0zpexw",\n    "token_type": "Bearer",\n    "expires_in": 3600,\n    "scope": "playlist-read-private playlist-read-collaborative user-library-read user-library-modify playlist-modify-private playlist-modify-public"\n}\naccess_token = token_info["access_token"]\n\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",metastring:'title="search_spotify.py"',children:'import requests\n\nfrom client_secrets import access_token\n\nurl = (\'https://api.spotify.com/v1/search?q=metallica&type=track\')\n\nheaders = {\n    "Content-Type": "application/json",\n    "Authorization": f"Basic {access_token}"\n}\n\nresponse = requests.request(method="GET", url=url, headers=headers)\nprint(response)\n'})})]})}function h(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},1151:(e,n,t)=>{t.d(n,{Z:()=>o,a:()=>a});var s=t(7294);const r={},i=s.createContext(r);function a(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);