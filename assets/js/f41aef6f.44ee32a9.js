"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[3705],{9346:(n,t,e)=>{e.r(t),e.d(t,{assets:()=>o,contentTitle:()=>a,default:()=>y,frontMatter:()=>s,metadata:()=>l,toc:()=>p});var r=e(5893),i=e(1151);const s={title:"Nov 25, 2023"},a="Coding Journal: Nov 25, 2023",l={id:"learning-journal/2023/November/20231125",title:"Nov 25, 2023",description:"- Finish the Spotify API course on Educative",source:"@site/docs/learning-journal/2023/November/20231125.md",sourceDirName:"learning-journal/2023/November",slug:"/learning-journal/2023/November/20231125",permalink:"/docs/learning-journal/2023/November/20231125",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{title:"Nov 25, 2023"},sidebar:"tutorialSidebar",previous:{title:"Nov 24, 2023",permalink:"/docs/learning-journal/2023/November/20231124"},next:{title:"Nov 26, 2023",permalink:"/docs/learning-journal/2023/November/20231126"}},o={},p=[];function c(n){const t={code:"code",h1:"h1",li:"li",pre:"pre",ul:"ul",...(0,i.a)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h1,{id:"coding-journal-nov-25-2023",children:"Coding Journal: Nov 25, 2023"}),"\n",(0,r.jsx)(t.h1,{id:"1-what-i-learned-and-did-today",children:"1. What I Learned and Did Today"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"Finish the Spotify API course on Educative"}),"\n",(0,r.jsxs)(t.li,{children:["Start automating Spotify with Python project. So far, this project can do:","\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"View user's Spotify profile info"}),"\n",(0,r.jsx)(t.li,{children:"View user's saved tracks"}),"\n",(0,r.jsx)(t.li,{children:"View user's playlist"}),"\n",(0,r.jsx)(t.li,{children:"View user's Weekly Discovery playlist"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(t.li,{children:"Things to do tomorrow: Contnue with the project, add create_new_playlist function, a fucntion where it automatically add songs from Weekly Discovery playlist, look up task scheduler for mac where it's scheduled on Monday to run a command"}),"\n"]}),"\n",(0,r.jsx)(t.h1,{id:"2-question-i-have",children:"2. Question I Have"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"What is Spotipy?"}),"\n",(0,r.jsx)(t.li,{children:"How does it interact with Spotipy API"}),"\n"]}),"\n",(0,r.jsx)(t.h1,{id:"3-what-i-found-challenging",children:"3. What I Found Challenging"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"Since the Educative's course covers the Spotify API pretty generally and they don't provide the Django project integrating Spotify API, I decide to make my own on using Spotipy."}),"\n",(0,r.jsx)(t.li,{children:"Authorization with Spotify the way I learned on Educative is very frustrating since it's only work with its online IDE and the callback URL. However, when moving on with Spotipy, authorization is much easier since Spotipy takes care of it, I only need to provide CLIENT_ID, CLIENT_SECRET, and REDIRECT_URL"}),"\n",(0,r.jsx)(t.li,{children:"The return values when calling Spotifpy functions. Most of the time they returns a large dictionary with many keys and its values may be other strings or dictionaries. I use Spotipy API docs to check the return value type to save more time. I also print out the keys quite frequently to get the exact data I need."}),"\n"]}),"\n",(0,r.jsx)(t.h1,{id:"4-code-i-wrote-today",children:"4. Code I Wrote Today"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-python",metastring:'title="playground.py"',children:'import os\nimport spotipy\nfrom spotipy.oauth2 import SpotifyOAuth\n\n\nos.environ["SPOTIPY_CLIENT_ID"] = "7777acxxxxxxxxx2323"\nos.environ["SPOTIPY_CLIENT_SECRET"] = "11cf4xxxxxxxxx8c2f93cd"\nos.environ["SPOTIPY_REDIRECT_URI"] = "http://localhost:9000"\nscope = "user-library-read user-library-modify playlist-modify-public"\n\nsp = spotipy.Spotify(auth_manager=SpotifyOAuth(scope=scope))\nprint("---User Info---")\nuser = sp.current_user()\nuser_id = user["id"]\nprint("User\'s ID:", user_id)\nprint("User\'s name:", user["display_name"])\nprint("User\'s followers:", user["followers"]["total"])\n\nprint("---User Playlist---")\n# user_playlists = sp.user_playlists(user=user_id, limit=10)\ncurrent_user_playlists = sp.current_user_playlists(limit=10)\nprint(current_user_playlists["items"][0].keys())\nfor p in current_user_playlists["items"]:\n    print("Playlist\'s name:", p["name"])\n    print("Playlist\'s owner:", p["owner"]["display_name"])\n    print()\n\n# Create new playlist\n# new_playlist = sp.user_playlist_create(user=user_id, name="My New Playlist", public=True, collaborative=False, description="Created using Spotipy")\n# print("---New Playlist Info---")\n# print("Playlist\'s ID:", new_playlist["id"])\n# print("Keys:", new_playlist.keys())\n# print("Name:", new_playlist["name"])\n# print("Description:", new_playlist["description"])\n# print("Total tracks", new_playlist["tracks"]["total"])\n\n# Add songs to my new playlist\n# star_gazing_song_uri = "spotify:track:0VF7YLIxSQKyNiFL3X6MmN"\n# sweater_weather_song_url = "spotify:track:2QjOHCTQ1Jl3zawyYOpxh6?si=0af53807a6084782"\n# song1 = "spotify:track:16XswZ18xhMs8qUTN51mRl"\n# new_playlist = sp.playlist_add_items(playlist_id=new_playlist["id"], items=["spotify:track:4iV5W9uYEdYUVa79Axb7Rh","spotify:track:1301WleyT98MSxVHPZCA6M"], position=None)\n\n\n'})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-python",metastring:'title="get_user_info.py"',children:'import os\nimport spotipy\nfrom spotipy.oauth2 import SpotifyOAuth\n\n\nCLIENT_ID = "7777ac4fxxxxxcef7a2323"\nCLIENT_SECRET = "11cf4026d8xxxxxxc2f93cd"\n\n# Set up Authorization\nos.environ["SPOTIPY_CLIENT_ID"] = CLIENT_ID\nos.environ["SPOTIPY_CLIENT_SECRET"] = CLIENT_SECRET\nos.environ["SPOTIPY_REDIRECT_URI"] = "http://localhost:9000"\nscope = ["user-library-read user-library-modify playlist-modify-public"]\n\n# Set up spotipy.client.Spotify object which is authenticated\nsp = spotipy.Spotify(auth_manager=SpotifyOAuth(scope=scope))\n\nuser = sp.current_user()\nprint("--User Info--")\nprint("Name:", user["display_name"])\nprint("Total followers:", user["followers"]["total"])\n\n\n# Get User Playlist\nuser_current_playlists = sp.current_user_playlists()\nprint("--User Current Playlists---")\nprint(user_current_playlists.keys())\nfor playlist in user_current_playlists["items"]:\n    print("Playlist\'s name:", playlist["name"])\n    print("Playlist\'s ID:", playlist["id"])\n    print("Playlist\'s description:", playlist["description"])\n    print("Total tracks:", playlist["tracks"]["total"])\n    # print(playlist)\n    print("*")\n\n\n# Get User Current Saved Tracks\nuser_current_saved_tracks = sp.current_user_saved_tracks(limit=10)\nprint("--User Current Saved Tracks--")\nprint(user_current_saved_tracks)\nprint(user_current_saved_tracks["total"])\n\n\n# Print out first 10 current saved tracks\nprint("First 10 current saved tracks")\nfor i in range(len(user_current_saved_tracks["items"][:10])):\n    current_track = user_current_saved_tracks["items"][i]["track"]\n    print("Track\'s name:", current_track["name"])\n    print("Track\'s album:", current_track["album"]["name"])\n    print("Track\'s artist:", current_track["artists"][0]["name"])\n    print("*")\nprint("---")\n\n\n# Get Weekly Discovery Playlist info\nweekly_playlist_url = "https://open.spotify.com/playlist/37i9dQZEVXcSl5JcFboUlo?si=105e91e417bc41a0"\nweekly_playlist = sp.playlist(playlist_id=weekly_playlist_url)\nprint(weekly_playlist.keys())\nprint(weekly_playlist["tracks"].keys())\nprint(weekly_playlist["tracks"]["items"][0])\n\nfor track in weekly_playlist["tracks"]["items"]:\n    track_info = track["track"]\n    print("Name:", track_info["name"])\n    print("Artist:", track_info["artists"][0]["name"])\n    print("Album:", track_info["album"]["name"])\n    print("*")\n\n'})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-python",metastring:'title="create_playlist.py"',children:'import os\nimport spotipy\nfrom spotipy.oauth2 import SpotifyOAuth\n\n\nCLIENT_ID = "7777ac4f09xxxxxef7a2323"\nCLIENT_SECRET = "11cf4026dxxxxxc2f93cd"\n\n# Set up Authorization\nos.environ["SPOTIPY_CLIENT_ID"] = CLIENT_ID\nos.environ["SPOTIPY_CLIENT_SECRET"] = CLIENT_SECRET\nos.environ["SPOTIPY_REDIRECT_URI"] = "http://localhost:9000"\nscope = ["user-library-read user-library-modify playlist-modify-public"]\n\n# Set up spotipy.client.Spotify object which is authenticated\nsp = spotipy.Spotify(auth_manager=SpotifyOAuth(scope=scope))\nuser = sp.current_user()\nuser_id = user["id"]\n\n# Get all songs from Discovery Weekly\nweekly_playlist_url = "https://open.spotify.com/playlist/37i9dQZEVXcSl5JcFboUlo?si=105e91e417bc41a0"\nweekly_playlist = sp.playlist(playlist_id=weekly_playlist_url)\nprint(weekly_playlist.keys())\nprint(weekly_playlist["tracks"].keys())\nprint(weekly_playlist["tracks"]["items"][0])\nall_weekly_playlist_tracks = []\n\nfor track in weekly_playlist["tracks"]["items"]:\n    track_info = track["track"]\n    print("Name:", track_info["name"])\n    print("Artist:", track_info["artists"][0]["name"])\n    print("Album:", track_info["album"]["name"])\n    print("ID:", track_info["id"])\n    all_weekly_playlist_tracks.append(track_info["id"])\n    print("*")\n\nprint(all_weekly_playlist_tracks)\nprint(len(all_weekly_playlist_tracks))\n\n# Create playlist\nplaylists = sp.current_user_playlists()\nnew_playlist = {}\nfound = False\nprint(type(playlists))\nprint(playlists.keys())\nfor playlist in playlists["items"]:\n    print(playlist["name"])\n    if playlist["name"] == "New playlist":\n        found = True\n        break\n\nif not found:\n    new_playlist = sp.user_playlist_create(user=user_id, name=f"New playlist", public=True, collaborative=False,\n                                           description="Created by Spotipy.")\n\n# new_playlist_id = new_playlist["id"]\nprint(new_playlist)\n# Add songs to the new playlist\nadd_songs = sp.playlist_add_items(playlist_id=new_playlist["id"], items=all_weekly_playlist_tracks)\n\n\n'})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-python",metastring:'title="automate_spotify.py"',children:'import os\nimport spotipy\nfrom spotipy.oauth2 import SpotifyOAuth\n\n\nCLIENT_ID = "7777ac4f09xxxxx7a2323"\nCLIENT_SECRET = "11cf4026d80xxxxb8c2f93cd"\n\n# Set up Authorization\nos.environ["SPOTIPY_CLIENT_ID"] = CLIENT_ID\nos.environ["SPOTIPY_CLIENT_SECRET"] = CLIENT_SECRET\nos.environ["SPOTIPY_REDIRECT_URI"] = "http://localhost:9000"\nscope = ["user-library-read user-library-modify playlist-modify-public"]\n\n# Set up spotipy.client.Spotify object which is authenticated\nsp = spotipy.Spotify(auth_manager=SpotifyOAuth(scope=scope))\n\n\ndef view_user_info():\n    user = sp.current_user()\n    print("--User Info--")\n    print("Name:", user["display_name"])\n    print("Total followers:", user["followers"]["total"])\n    print()\n    return user\n\n\ndef view_user_playlists():\n    user_current_playlists = sp.current_user_playlists()\n    print("--User Current Playlists---")\n    for playlist in user_current_playlists["items"]:\n        print("Playlist\'s name:", playlist["name"])\n        print("Playlist\'s ID:", playlist["id"])\n        print("Playlist\'s description:", playlist["description"])\n        print("Total tracks:", playlist["tracks"]["total"])\n        print("*")\n    print()\n\n\ndef view_user_saved_tracks(amount=10):\n    user_current_saved_tracks = sp.current_user_saved_tracks(limit=10)\n    print("--User Current Saved Tracks--")\n    print(f"First {amount} current saved tracks")\n    for i in range(len(user_current_saved_tracks["items"][:amount])):\n        current_track = user_current_saved_tracks["items"][i]["track"]\n        print("Track\'s name:", current_track["name"])\n        print("Track\'s album:", current_track["album"]["name"])\n        print("Track\'s artist:", current_track["artists"][0]["name"])\n        print("*")\n    print()\n\n\ndef view_weekly_discovery_tracks():\n    weekly_playlist_url = "https://open.spotify.com/playlist/37i9dQZEVXcSl5JcFboUlo?si=105e91e417bc41a0"\n    weekly_playlist = sp.playlist(playlist_id=weekly_playlist_url)\n\n    for track in weekly_playlist["tracks"]["items"]:\n        track_info = track["track"]\n        print("Name:", track_info["name"])\n        print("Artist:", track_info["artists"][0]["name"])\n        print("Album:", track_info["album"]["name"])\n        print("*")\n    print()\n'})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-python",metastring:'title="main.py"',children:'import argparse\nfrom automate_spotify import *\n\n\ndef main():\n    parser = argparse.ArgumentParser("Automate Python Program")\n    parser.add_argument("-u", "--user", action="store_true", help="Show user\'s information.")\n    parser.add_argument("-p", "--playlists", action="store_true", help="Show user\'s playlist.")\n    parser.add_argument("-t", "--tracks", type=int, nargs="?", const=10, default=10, help="Show user\'s saved tracks. Enter the number of tracks you want to view (default=10).")\n    parser.add_argument("-w", "--weekly", action="store_true", help="Show user\'s this week Weekly Discovery playlist generated by Spotify.")\n\n    args = parser.parse_args()\n    if args.user:\n        view_user_info()\n    elif args.playlists:\n        view_user_playlists()\n    elif args.tracks:\n        view_user_saved_tracks()\n    elif args.weekly:\n        view_weekly_discovery_tracks()\n    else:\n        print("Invalid command.")\n\nif __name__ == "__main__":\n    main()\n'})})]})}function y(n={}){const{wrapper:t}={...(0,i.a)(),...n.components};return t?(0,r.jsx)(t,{...n,children:(0,r.jsx)(c,{...n})}):c(n)}},1151:(n,t,e)=>{e.d(t,{Z:()=>l,a:()=>a});var r=e(7294);const i={},s=r.createContext(i);function a(n){const t=r.useContext(s);return r.useMemo((function(){return"function"==typeof n?n(t):{...t,...n}}),[t,n])}function l(n){let t;return t=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:a(n.components),r.createElement(s.Provider,{value:t},n.children)}}}]);