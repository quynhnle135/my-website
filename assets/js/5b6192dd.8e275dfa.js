"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[808],{8484:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>c,frontMatter:()=>i,metadata:()=>o,toc:()=>u});var t=r(5893),s=r(1151);const i={title:"Aug 29",description:"Tue, Aug 29"},a=void 0,o={id:"learning-journal/2023/August/aug_29_23",title:"Aug 29",description:"Tue, Aug 29",source:"@site/docs/learning-journal/2023/August/aug_29_23.md",sourceDirName:"learning-journal/2023/August",slug:"/learning-journal/2023/August/aug_29_23",permalink:"/my-website/docs/learning-journal/2023/August/aug_29_23",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{title:"Aug 29",description:"Tue, Aug 29"},sidebar:"tutorialSidebar",previous:{title:"Aug 28",permalink:"/my-website/docs/learning-journal/2023/August/aug_28_23"},next:{title:"Project Summary",permalink:"/my-website/docs/learning-journal/2023/August/projects_summary"}},l={},u=[{value:"Finish final project",id:"finish-final-project",level:3},{value:"Project set-up",id:"project-set-up",level:4}];function m(e){const n={code:"code",h3:"h3",h4:"h4",pre:"pre",...(0,s.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h3,{id:"finish-final-project",children:"Finish final project"}),"\n",(0,t.jsx)(n.h4,{id:"project-set-up",children:"Project set-up"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",metastring:'title="littlelemon/settings.py"',children:"INSTALLED_APPS = [\n    'django.contrib.admin',\n    'django.contrib.auth',\n    'django.contrib.contenttypes',\n    'django.contrib.sessions',\n    'django.contrib.messages',\n    'django.contrib.staticfiles',\n    'restaurant.apps.RestaurantConfig',\n    'rest_framework',\n    'rest_framework.authtoken',\n    'djoser',\n]\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",metastring:'title="littlelemon/urls.py"',children:"from django.contrib import admin\nfrom django.urls import path, include\nfrom rest_framework.routers import DefaultRouter\nfrom restaurant.views import BookingViewSet\n\nrouter = DefaultRouter()\nrouter.register(r'tables', BookingViewSet)\n\nurlpatterns = [\n    path('admin/', admin.site.urls),\n    path('restaurant/', include('restaurant.urls')),\n    path('restaurant/booking/', include(router.urls)),\n    path('auth/', include('djoser.urls')),\n    path('auth/', include('djoser.urls.authtoken')),\n]\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",metastring:'title="restaurant/models.py"',children:"from django.db import models\n\n# Create your models here.\n\n\nclass Booking(models.Model):\n    name = models.CharField(max_length=255)\n    no_of_guests = models.IntegerField()\n    booking_date = models.DateTimeField()\n\n    def __str__(self) -> str:\n        return self.name\n\n\nclass MenuItem(models.Model):\n    title = models.CharField(max_length=255)\n    price = models.DecimalField(max_digits=10, decimal_places=2)\n    inventory = models.IntegerField()\n\n    def __str__(self) -> str:\n        return self.title\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",metastring:'title="restaurant/serializers.py"',children:"from .models import Booking, MenuItem\nfrom rest_framework import serializers\nfrom django.contrib.auth.models import User\n\n\nclass BookingSerializer(serializers.ModelSerializer):\n    class Meta:\n        model = Booking\n        fields = \"__all__\"\n\n\nclass MenuItemSerializer(serializers.ModelSerializer):\n    class Meta:\n        model = MenuItem\n        fields = \"__all__\"\n\n\nclass UserSerializer(serializers.ModelSerializer):\n    class Meta:\n        model = User\n        fields = ['url', 'username', 'email', 'groups']\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",metastring:'title="restaurant/urls.py"',children:"from django.urls import path\nfrom . import views\nfrom rest_framework.authtoken.views import obtain_auth_token\n\n\nurlpatterns = [\n    path('', views.index, name=\"home\"),\n    path('menu/', views.MenuItemView.as_view(), name=\"menu\"),\n    path('menu/<int:pk>/', views.SingleMenuItemView.as_view()),\n    path('api-token-auth/', obtain_auth_token),\n]\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",metastring:'title="restaurant/views.py"',children:'from django.shortcuts import render\nfrom rest_framework.views import APIView\nfrom rest_framework.response import Response\nfrom .models import Booking, MenuItem\nfrom .serializers import BookingSerializer, MenuItemSerializer, UserSerializer\nfrom rest_framework import generics\nfrom rest_framework import viewsets\nfrom rest_framework.permissions import IsAuthenticated\nfrom django.contrib.auth.models import User\nfrom rest_framework.decorators import api_view, permission_classes\n# Create your views here.\n\n\ndef index(request):\n    return render(request, "index.html")\n\n\nclass MenuItemView(generics.CreateAPIView):\n    permission_classes = [IsAuthenticated]\n    queryset = MenuItem.objects.all()\n    serializer_class = MenuItemSerializer\n\n\nclass SingleMenuItemView(generics.RetrieveUpdateDestroyAPIView):\n    queryset = MenuItem.objects.all()\n    serializer_class = MenuItemSerializer\n\n\nclass BookingViewSet(viewsets.ModelViewSet):\n    queryset = Booking.objects.all()\n    serializer_class = BookingSerializer\n    permission_classes = [IsAuthenticated]\n\n\nclass UserViewSet(viewsets.ModelViewSet):\n    queryset = User.objects.all()\n    serializer_class = UserSerializer\n    permission_classes = [IsAuthenticated]\n\n\n@api_view()\n@permission_classes([IsAuthenticated])\ndef msg(request):\n    return Response({"message": "This view is protected"})\n'})})]})}function c(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(m,{...e})}):m(e)}},1151:(e,n,r)=>{r.d(n,{Z:()=>o,a:()=>a});var t=r(7294);const s={},i=t.createContext(s);function a(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);